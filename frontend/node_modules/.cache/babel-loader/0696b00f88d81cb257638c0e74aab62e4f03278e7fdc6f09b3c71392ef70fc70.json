{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Salom/Desktop/hotel-finder/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Salom/Desktop/hotel-finder/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useContext}from\"react\";import Container from\"react-bootstrap/Container\";import{Link,useLocation}from\"react-router-dom\";import Nav from\"react-bootstrap/Nav\";import Navbar from\"react-bootstrap/Navbar\";import{useSelector}from\"react-redux\";import{onLogout}from\"../apis/auth\";import{unauthenticateUser}from\"../redux/slices/authSlice\";import{useDispatch}from\"react-redux\";import NavDropdown from\"react-bootstrap/NavDropdown\";import{LinkContainer}from\"react-router-bootstrap\";import{Store}from\"../Store.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Navbars(){var _userInfo$user;var _useContext=useContext(Store),state=_useContext.state,ctxDispatch=_useContext.dispatch;var userInfo=state.userInfo;var _useSelector=useSelector(function(state){return state.auth;}),isAuth=_useSelector.isAuth;var dispatch=useDispatch();var _useLocation=useLocation(),search=_useLocation.search;var redirectInUrl=new URLSearchParams(search).get(\"redirect\");var redirect=redirectInUrl?redirectInUrl:\"/\";var logout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return onLogout();case 3:ctxDispatch({type:\"USER_LOGOUT\"});dispatch(unauthenticateUser());localStorage.removeItem(\"isAuth\");localStorage.removeItem(\"userInfo\");window.location.href=\"/login\";_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0.response);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function logout(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Navbar,{className:\"navbar nav p-4 text-white \",expand:\"lg\",variant:\"secondary\",children:/*#__PURE__*/_jsx(Container,{className:\"container d-flex\",children:isAuth?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/\",rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(Navbar.Brand,{className:\"brand fw-lighter\",children:\"Write Review and find hotel\"})}),/*#__PURE__*/_jsx(NavDropdown,{title:userInfo===null||userInfo===void 0?void 0:(_userInfo$user=userInfo.user)===null||_userInfo$user===void 0?void 0:_userInfo$user.name,id:\"basic-nav-dropdown\",className:\" me-auto fw-normal justify-content-end\",children:/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/?redirect=\".concat(redirect),onClick:function onClick(){return logout();},children:\"Logout\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\",id:\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"basic-navbar-nav\",children:/*#__PURE__*/_jsxs(Nav,{className:\"me-auto w-100 justify-content-end\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{className:\"me-4 nav-link\",to:\"/register\",children:\"Write review and find hotel\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(NavDropdown,{className:\"dropdown-title bold\",title:\"Journey of all experiences\",id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(LinkContainer,{className:\"dropdown-item\",to:\"/journey\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Find your next trip and destination\"})}),/*#__PURE__*/_jsx(LinkContainer,{className:\"dropdown-item\",to:\"/places\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Let's Go!\"})}),/*#__PURE__*/_jsx(LinkContainer,{className:\"dropdown-item\",to:\"/slide\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Complete guide for visiting Israel\"})}),/*#__PURE__*/_jsx(LinkContainer,{className:\"dropdown-item\",to:\"/tips\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"The best tourist tips\"})}),/*#__PURE__*/_jsx(LinkContainer,{className:\"dropdown-item\",to:\"/hotel-tips\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Tips to find hotel\"})})]})})]})})]})})});}export default Navbars;","map":{"version":3,"names":["React","useContext","Container","Link","useLocation","Nav","Navbar","useSelector","onLogout","unauthenticateUser","useDispatch","NavDropdown","LinkContainer","Store","Navbars","state","ctxDispatch","dispatch","userInfo","auth","isAuth","search","redirectInUrl","URLSearchParams","get","redirect","logout","type","localStorage","removeItem","window","location","href","console","log","response","user","name"],"sources":["C:/Users/Salom/Desktop/hotel-finder/frontend/src/components/NavBars.jsx"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { onLogout } from \"../apis/auth\";\r\nimport { unauthenticateUser } from \"../redux/slices/authSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport NavDropdown from \"react-bootstrap/NavDropdown\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Store } from \"../Store.js\";\r\n\r\n\r\n\r\nfunction Navbars() {\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { userInfo } = state;\r\n\r\n  const { isAuth } = useSelector((state) => state.auth);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const { search } = useLocation();\r\n  const redirectInUrl = new URLSearchParams(search).get(\"redirect\");\r\n  const redirect = redirectInUrl ? redirectInUrl : \"/\";\r\n\r\n  const logout = async () => {\r\n    try {\r\n      await onLogout();\r\n      ctxDispatch({ type: \"USER_LOGOUT\" });\r\n      dispatch(unauthenticateUser());\r\n      localStorage.removeItem(\"isAuth\");\r\n      localStorage.removeItem(\"userInfo\");\r\n      window.location.href = \"/login\";\r\n    } catch (error) {\r\n      console.log(error.response);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Navbar\r\n      className=\"navbar nav p-4 text-white \"\r\n      expand=\"lg\"\r\n      variant=\"secondary\"\r\n    >\r\n      <Container className=\"container d-flex\">\r\n        {isAuth ? (\r\n          <div>\r\n            <Link className=\"nav-link\" to=\"/\" rel=\"noopener noreferrer\">\r\n              <Navbar.Brand className=\"brand fw-lighter\">\r\n                Write Review and find hotel\r\n              </Navbar.Brand>\r\n            </Link>\r\n            <NavDropdown\r\n              title={userInfo?.user?.name}\r\n              id=\"basic-nav-dropdown\"\r\n              className=\" me-auto fw-normal justify-content-end\"\r\n            >\r\n              <Link\r\n                className=\"dropdown-item\"\r\n                to={`/?redirect=${redirect}`}\r\n                onClick={() => logout()}\r\n              >\r\n                Logout\r\n              </Link>\r\n            </NavDropdown>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <Navbar.Toggle\r\n              aria-controls=\"basic-navbar-nav\"\r\n              id=\"basic-navbar-nav\"\r\n            />\r\n            <Navbar.Collapse id=\"basic-navbar-nav\">\r\n              <Nav className=\"me-auto w-100 justify-content-end\">\r\n                <div>\r\n                  <Link className=\"me-4 nav-link\" to=\"/register\">\r\n                    Write review and find hotel\r\n                  </Link>\r\n                </div>\r\n                <div>\r\n                  <NavDropdown\r\n                    className=\"dropdown-title bold\"\r\n                    title=\"Journey of all experiences\"\r\n                    id=\"basic-nav-dropdown\"\r\n                  >\r\n                    <LinkContainer className=\"dropdown-item\" to=\"/journey\">\r\n                      <NavDropdown.Item>\r\n                        Find your next trip and destination\r\n                      </NavDropdown.Item>\r\n                    </LinkContainer>\r\n                    <LinkContainer className=\"dropdown-item\" to=\"/places\">\r\n                      <NavDropdown.Item>Let's Go!</NavDropdown.Item>\r\n                    </LinkContainer>\r\n                    <LinkContainer className=\"dropdown-item\" to=\"/slide\">\r\n                      <NavDropdown.Item>\r\n                        Complete guide for visiting Israel\r\n                      </NavDropdown.Item>\r\n                    </LinkContainer>\r\n                    <LinkContainer className=\"dropdown-item\" to=\"/tips\">\r\n                      <NavDropdown.Item>The best tourist tips</NavDropdown.Item>\r\n                    </LinkContainer>\r\n                    <LinkContainer className=\"dropdown-item\" to=\"/hotel-tips\">\r\n                      <NavDropdown.Item>Tips to find hotel</NavDropdown.Item>\r\n                    </LinkContainer>\r\n                  </NavDropdown>\r\n                </div>\r\n              </Nav>\r\n            </Navbar.Collapse>\r\n          </>\r\n        )}\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n}\r\n\r\nexport default Navbars;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}