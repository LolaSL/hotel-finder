{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Salom/Desktop/hotel-finder/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Salom/Desktop/hotel-finder/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useContext,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{HotelsContext}from\"../context/HotelsContext\";import HotelFinder from\"../apis/HotelFinder\";import StarRating from\"../components/StarRating\";import Reviews from\"../components/Reviews\";import AddReview from\"../components/AddReview\";import Container from\"react-bootstrap/Container\";import{Helmet}from\"react-helmet-async\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var HotelDetail=function HotelDetail(){var _useParams=useParams(),id=_useParams.id;var _useContext=useContext(HotelsContext),selectedHotel=_useContext.selectedHotel,setSelectedHotel=_useContext.setSelectedHotel;useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return HotelFinder.get(\"/\".concat(id));case 3:response=_context.sent;console.log(response);setSelectedHotel(response.data.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[id,setSelectedHotel]);return/*#__PURE__*/_jsxs(Container,{className:\"container\",children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Hotel review\"})}),/*#__PURE__*/_jsx(\"div\",{children:selectedHotel&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center display-1\",children:selectedHotel.hotel.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(StarRating,{rating:selectedHotel.hotel.average_rating}),/*#__PURE__*/_jsx(\"span\",{className:\"count ml-1\",children:selectedHotel.hotel.count?\"(\".concat(selectedHotel.hotel.count,\")\"):\"(0)\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(Reviews,{reviews:selectedHotel.reviews})}),/*#__PURE__*/_jsx(AddReview,{})]})})]});};export default HotelDetail;","map":{"version":3,"names":["React","useContext","useEffect","useParams","HotelsContext","HotelFinder","StarRating","Reviews","AddReview","Container","Helmet","HotelDetail","id","selectedHotel","setSelectedHotel","fetchData","get","response","console","log","data","message","hotel","name","average_rating","count","reviews"],"sources":["C:/Users/Salom/Desktop/hotel-finder/frontend/src/pages/HotelDetail.jsx"],"sourcesContent":["import React, { useContext, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { HotelsContext } from \"../context/HotelsContext\";\r\nimport HotelFinder from \"../apis/HotelFinder\";\r\nimport StarRating from \"../components/StarRating\";\r\nimport Reviews from \"../components/Reviews\";\r\nimport AddReview from \"../components/AddReview\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport { Helmet } from \"react-helmet-async\";\r\n\r\nconst HotelDetail = () => {\r\n  const { id } = useParams();\r\n  const { selectedHotel, setSelectedHotel } = useContext(HotelsContext);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await HotelFinder.get(`/${id}`);\r\n        console.log(response);\r\n        setSelectedHotel(response.data.data);\r\n      } catch (error) {\r\n        console.log(error.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [id, setSelectedHotel]);\r\n  return (\r\n    <Container className=\"container\">\r\n      <Helmet>\r\n        <title>Hotel review</title>\r\n      </Helmet>\r\n      <div>\r\n        {selectedHotel && (\r\n          <>\r\n            <h1 className=\"text-center display-1\">\r\n              {selectedHotel.hotel.name}\r\n            </h1>\r\n            <div className=\"text-center\">\r\n              <StarRating rating={selectedHotel.hotel.average_rating} />\r\n              <span className=\"count ml-1\">\r\n                {selectedHotel.hotel.count\r\n                  ? `(${selectedHotel.hotel.count})`\r\n                  : \"(0)\"}\r\n              </span>\r\n            </div>\r\n            <div className=\"mt-3\">\r\n              <Reviews reviews={selectedHotel.reviews} />\r\n            </div>\r\n            <AddReview />\r\n          </>\r\n        )}\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default HotelDetail;\r\n"],"mappings":"oRAAA,MAAOA,MAAK,EAAIC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACpD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,aAAa,KAAQ,0BAA0B,CACxD,MAAOC,YAAW,KAAM,qBAAqB,CAC7C,MAAOC,WAAU,KAAM,0BAA0B,CACjD,MAAOC,QAAO,KAAM,uBAAuB,CAC3C,MAAOC,UAAS,KAAM,yBAAyB,CAC/C,MAAOC,UAAS,KAAM,2BAA2B,CACjD,OAASC,MAAM,KAAQ,oBAAoB,CAAC,6IAE5C,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxB,eAAeR,SAAS,EAAE,CAAlBS,EAAE,YAAFA,EAAE,CACV,gBAA4CX,UAAU,CAACG,aAAa,CAAC,CAA7DS,aAAa,aAAbA,aAAa,CAAEC,gBAAgB,aAAhBA,gBAAgB,CAEvCZ,SAAS,CAAC,UAAM,CACd,GAAMa,UAAS,4FAAG,uLAESV,YAAW,CAACW,GAAG,YAAKJ,EAAE,EAAG,QAA1CK,QAAQ,eACdC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CACrBH,gBAAgB,CAACG,QAAQ,CAACG,IAAI,CAACA,IAAI,CAAC,CAAC,+EAErCF,OAAO,CAACC,GAAG,CAAC,YAAME,OAAO,CAAC,CAAC,mEAE9B,kBARKN,UAAS,0CAQd,CAEDA,SAAS,EAAE,CACb,CAAC,CAAE,CAACH,EAAE,CAAEE,gBAAgB,CAAC,CAAC,CAC1B,mBACE,MAAC,SAAS,EAAC,SAAS,CAAC,WAAW,wBAC9B,KAAC,MAAM,wBACL,uBAAO,cAAY,EAAQ,EACpB,cACT,qBACGD,aAAa,eACZ,wCACE,WAAI,SAAS,CAAC,uBAAuB,UAClCA,aAAa,CAACS,KAAK,CAACC,IAAI,EACtB,cACL,aAAK,SAAS,CAAC,aAAa,wBAC1B,KAAC,UAAU,EAAC,MAAM,CAAEV,aAAa,CAACS,KAAK,CAACE,cAAe,EAAG,cAC1D,aAAM,SAAS,CAAC,YAAY,UACzBX,aAAa,CAACS,KAAK,CAACG,KAAK,YAClBZ,aAAa,CAACS,KAAK,CAACG,KAAK,MAC7B,KAAK,EACJ,GACH,cACN,YAAK,SAAS,CAAC,MAAM,uBACnB,KAAC,OAAO,EAAC,OAAO,CAAEZ,aAAa,CAACa,OAAQ,EAAG,EACvC,cACN,KAAC,SAAS,IAAG,GAEhB,EACG,GACI,CAEhB,CAAC,CAED,cAAef,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}